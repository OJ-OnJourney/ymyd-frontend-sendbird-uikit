{"version":3,"file":"utils-43a307fa.js","sources":["../src/ui/ChannelAvatar/utils.ts","../src/utils/utils.js"],"sourcesContent":["export const DEFAULT_URL_PREFIX = 'https://static.sendbird.com/sample/cover/cover_';\n\nexport const getOpenChannelAvatar = (channel: SendBird.OpenChannel): string => {\n  if (channel && channel.coverUrl) {\n    return channel.coverUrl;\n  }\n};\n\nexport const getChannelAvatarSource = (channel: SendBird.GroupChannel, currentUserId: string): string | Array<string> => {\n  if (channel && channel.coverUrl) {\n    if (!(new RegExp(`^${DEFAULT_URL_PREFIX}`).test(channel.coverUrl))) {\n      return channel.coverUrl;\n    }\n  }\n\n  return channel && channel.members\n    ? channel.members\n      .filter((member) => member.userId !== currentUserId)\n      .map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\n\nexport const useDefaultAvatar = (channel: SendBird.GroupChannel): boolean => {\n  if (channel && channel.coverUrl) {\n    if (new RegExp(`^${DEFAULT_URL_PREFIX}`).test(channel.coverUrl)) {\n      return true;\n    }\n    return false;\n  }\n  return true;\n}\n","import format from 'date-fns/format';\n\nexport const noop = () => {};\n\nexport const getMessageCreatedAt = (message) => format(message.createdAt, 'HH:mm');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderNameByType = (message, type) => {\n  if(message.sender){\n    // console.log(\"getSenderNameByType\", message, type, message.sender)\n    if(type && message.sender.metaData && message.sender.metaData[type])\n      return message.sender.metaData[type];\n    \n    return (\n      message.sender.friendName\n      || message.sender.nickname\n      || message.sender.userId\n    )\n  }\n\n  return null\n};\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport default {\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n};\n"],"names":["DEFAULT_URL_PREFIX","getOpenChannelAvatar","channel","coverUrl","getChannelAvatarSource","currentUserId","RegExp","test","members","filter","member","userId","map","_a","profileUrl","useDefaultAvatar","noop","getMessageCreatedAt","message","format","createdAt","getSenderNameByType","type","sender","metaData","friendName","nickname","getSenderProfileUrl"],"mappings":";;AAAO,IAAMA,kBAAkB,GAAG,iDAA3B;IAEMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,OAAD;AAClC,MAAIA,OAAO,IAAIA,OAAO,CAACC,QAAvB,EAAiC;AAC/B,WAAOD,OAAO,CAACC,QAAf;AACD;AACF;IAEYC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACF,OAAD,EAAiCG,aAAjC;AACpC,MAAIH,OAAO,IAAIA,OAAO,CAACC,QAAvB,EAAiC;AAC/B,QAAI,CAAE,IAAIG,MAAJ,CAAW,MAAIN,kBAAf,EAAqCO,IAArC,CAA0CL,OAAO,CAACC,QAAlD,CAAN,EAAoE;AAClE,aAAOD,OAAO,CAACC,QAAf;AACD;AACF;;AAED,SAAOD,OAAO,IAAIA,OAAO,CAACM,OAAnB,GACHN,OAAO,CAACM,OAAR,CACCC,MADD,CACQ,UAACC,MAAD;AAAY,WAAAA,MAAM,CAACC,MAAP,KAAkBN,aAAlB;AAA+B,GADnD,EAECO,GAFD,CAEK,UAACC,EAAD;QAAGC,UAAU;AAAO,WAAAA,UAAA;AAAU,GAFnC,CADG,GAIH,EAJJ;AAKD;IAGYC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACb,OAAD;AAC9B,MAAIA,OAAO,IAAIA,OAAO,CAACC,QAAvB,EAAiC;AAC/B,QAAI,IAAIG,MAAJ,CAAW,MAAIN,kBAAf,EAAqCO,IAArC,CAA0CL,OAAO,CAACC,QAAlD,CAAJ,EAAiE;AAC/D,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD;;IC7BYa,IAAI,GAAG,SAAPA,IAAO,GAAM,EAAnB;AAEP,IAAaC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,OAAD;AAAA,SAAaC,MAAM,CAACD,OAAO,CAACE,SAAT,EAAoB,OAApB,CAAnB;AAAA,CAA5B;AAEP,IAQaC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACH,OAAD,EAAUI,IAAV,EAAmB;AACpD,MAAGJ,OAAO,CAACK,MAAX,EAAkB;AAChB;AACA,QAAGD,IAAI,IAAIJ,OAAO,CAACK,MAAR,CAAeC,QAAvB,IAAmCN,OAAO,CAACK,MAAR,CAAeC,QAAf,CAAwBF,IAAxB,CAAtC,EACE,OAAOJ,OAAO,CAACK,MAAR,CAAeC,QAAf,CAAwBF,IAAxB,CAAP;AAEF,WACEJ,OAAO,CAACK,MAAR,CAAeE,UAAf,IACGP,OAAO,CAACK,MAAR,CAAeG,QADlB,IAEGR,OAAO,CAACK,MAAR,CAAeZ,MAHpB;AAKD;;AAED,SAAO,IAAP;AACD,CAdM;AAgBP,IAAagB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACT,OAAD;AAAA,SAAaA,OAAO,CAACK,MAAR,IAAkBL,OAAO,CAACK,MAAR,CAAeT,UAA9C;AAAA,CAA5B;;;;"}