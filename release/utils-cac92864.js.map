{"version":3,"file":"utils-cac92864.js","sources":["../src/ui/Message/utils.js"],"sourcesContent":["import format from 'date-fns/format';\nimport MessageStatusType from '../MessageStatus/type';\n\nexport const copyToClipboard = (text) => {\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport const getMessageCreatedAt = (message) => format(message.createdAt || 0, 'p');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderNameByType = (message, type) => {\n  if(message.sender){\n    console.log(\"getSenderNameByType\", message, type, message.sender)\n    if(type && message.sender.metaData && message.sender.metaData[type])\n      return message.sender.metaData[type];\n    \n    return (\n      message.sender.friendName\n      || message.sender.nickname\n      || message.sender.userId\n    )\n  }\n\n  return null\n};\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport const getIsSentFromStatus = (status) => (\n  status === MessageStatusType.SENT\n  || status === MessageStatusType.DELIVERED\n  || status === MessageStatusType.READ\n);\n\nexport const createUrlTester = (regexp) => (text) => regexp.test(text);\n\nexport default {\n  copyToClipboard,\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n  getIsSentFromStatus,\n  createUrlTester,\n};\n"],"names":["copyToClipboard","text","window","clipboardData","setData","document","queryCommandSupported","textarea","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","getMessageCreatedAt","message","format","createdAt","getSenderNameByType","type","sender","console","log","metaData","friendName","nickname","userId","getSenderProfileUrl","profileUrl","getIsSentFromStatus","status","MessageStatusType","SENT","DELIVERED","READ"],"mappings":";;;IAGaA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAU;AACvC,MAAIC,MAAM,CAACC,aAAP,IAAwBD,MAAM,CAACC,aAAP,CAAqBC,OAAjD,EAA0D;AACxD;AACA,WAAOF,MAAM,CAACC,aAAP,CAAqBC,OAArB,CAA6B,MAA7B,EAAqCH,IAArC,CAAP;AACD;;AACD,MAAII,QAAQ,CAACC,qBAAT,IAAkCD,QAAQ,CAACC,qBAAT,CAA+B,MAA/B,CAAtC,EAA8E;AAC5E,QAAMC,QAAQ,GAAGF,QAAQ,CAACG,aAAT,CAAuB,UAAvB,CAAjB;AACAD,IAAAA,QAAQ,CAACE,WAAT,GAAuBR,IAAvB;AACAM,IAAAA,QAAQ,CAACG,KAAT,CAAeC,QAAf,GAA0B,OAA1B,CAH4E;;AAI5EN,IAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BN,QAA1B;AACAA,IAAAA,QAAQ,CAACO,MAAT;;AACA,QAAI;AACF,aAAOT,QAAQ,CAACU,WAAT,CAAqB,MAArB,CAAP,CADE;AAEH,KAFD,CAEE,OAAOC,EAAP,EAAW;AACX,aAAO,KAAP;AACD,KAJD,SAIU;AACRX,MAAAA,QAAQ,CAACO,IAAT,CAAcK,WAAd,CAA0BV,QAA1B;AACD;AACF;;AACD,SAAO,KAAP;AACD;IAEYW,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,OAAD;AAAA,SAAaC,MAAM,CAACD,OAAO,CAACE,SAAR,IAAqB,CAAtB,EAAyB,GAAzB,CAAnB;AAAA;IAUtBC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACH,OAAD,EAAUI,IAAV,EAAmB;AACpD,MAAGJ,OAAO,CAACK,MAAX,EAAkB;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCP,OAAnC,EAA4CI,IAA5C,EAAkDJ,OAAO,CAACK,MAA1D;AACA,QAAGD,IAAI,IAAIJ,OAAO,CAACK,MAAR,CAAeG,QAAvB,IAAmCR,OAAO,CAACK,MAAR,CAAeG,QAAf,CAAwBJ,IAAxB,CAAtC,EACE,OAAOJ,OAAO,CAACK,MAAR,CAAeG,QAAf,CAAwBJ,IAAxB,CAAP;AAEF,WACEJ,OAAO,CAACK,MAAR,CAAeI,UAAf,IACGT,OAAO,CAACK,MAAR,CAAeK,QADlB,IAEGV,OAAO,CAACK,MAAR,CAAeM,MAHpB;AAKD;;AAED,SAAO,IAAP;AACD;IAEYC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACZ,OAAD;AAAA,SAAaA,OAAO,CAACK,MAAR,IAAkBL,OAAO,CAACK,MAAR,CAAeQ,UAA9C;AAAA;IAEtBC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,MAAD;AAAA,SACjCA,MAAM,KAAKC,iBAAiB,CAACC,IAA7B,IACGF,MAAM,KAAKC,iBAAiB,CAACE,SADhC,IAEGH,MAAM,KAAKC,iBAAiB,CAACG,IAHC;AAAA;;;;"}